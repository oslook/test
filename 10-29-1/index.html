
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width,  minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <title>小明好贱，但是我喜欢</title>
<script type="text/javascript">
var spid="10-29-1";
</script>
<script type="text/javascript" src="../js/jquery.min.js"></script>
<script type="text/javascript" src="../js/avalon.mobile.min.js"></script>
<script type="text/javascript" src="../js/count.js"></script>
  <style>
		        * {
            font-family: '微软雅黑';
        }
        html, body {
            margin: 0;
            color: #000;
            background:url("./xiaoming.jpg") no-repeat;
            background-size: 100%;
            -webkit-tap-highlight-color: rgba(0,0,0,0);
        }
        #loading {
            text-align: center;
            font-size: 20px;
            line-height: 400px;
            display: none;
        }

        .loading #loading {
            display: block;
        }

        .loading .head,
        .loading .main {
            display: none;
        }

        .head img {
            width: 100%;
        }

        .main {
            padding: 10px;
            padding-top:9%;
            margin-top: -10px;
            text-align: center;
        }

        .t-t {
            font-size: 22px;
            line-height: 2em;
            text-align: left;
        }

        .t-s {
            padding: 5px;
            background-color: #f9baba;
            max-width: 100%;
            margin: 10px auto;
            text-align: center;
            position: relative;
            -webkit-transition: background-color 0.3s ease;
        }

        img {
            max-width: 100%;
        }

        .t-s img {
            max-width: 100%;
        }

        .t-s span {
            font-size: 1.1em;
            line-height: 1.5em;
            font-weight: bold;
            color: #761511;
			padding:5px 20px;
        }

        .t-s.active {
            background-color: #e98483;
        }

            .t-s.active span {
                color: #fff;
            }

        .t-s:after {
            position: absolute;
            right:2px;
            top: 2px;
            padding: 5px;
            background: rgba(255,255,255,1);
            content: "√";
            display: none;
            opacity: 0;
            -webkit-transition: opacity 0.3s ease;
			font-size: 1.1em;
        }

        .t-s.error:after {
            background: rgba(255,0,0,1);
            content: "×";
            color: white;
        }

        .t-s.active:after {
            display: block;
            opacity: 1;
        }

        .t-c {
            line-height: 1.2em;
            padding:10px;
            margin-bottom: 10px;
            font-size: 1.1em;
            text-align: left;
            color: #761511;
            overflow: hidden;
        }

        .t-s.h {
            max-width: 40%;
            display: inline-block;
            margin-left: 5px;
            margin-right: 5px;
        }

        .t-r {
      
            font-weight: bold;
            overflow: hidden;
        }

            .t-r span {
                display: inline-block;
                vertical-align: middle;
                font-size: 50px;
                color: #27AE60;
                /*color: rgba(0,0,0,0);*/
                text-shadow: 3px 0 4px #16A085;
            }

        .t-img {
            margin-top: 10px;
            margin-bottom: 10px;
        }

            .t-img img {
                max-width: 60%;
            }

        .t-btn,
        .t-btn:link,
        .t-btn:visited {
            color: #e1edea;
            background-color: #74b651;
            padding-top: 12px;
            padding-bottom: 13px;
            padding-left: 15px;
            padding-right: 15px;
            display: inline-block;
            line-height: 1em;
            min-width: 60%;
            margin: 10px auto;
            border-radius: 7px;
            text-decoration: none;
        }
		.t-btn{
			font-size:1.1em;
		}
        .share {
            position: fixed;
            top: 0;
            right: 0;
            left: 0;
            bottom: 0;
            background: rgba(0,0,0,0.6);
            display: none;
            z-index: 1000;
        }

            .share img {
                position: absolute;
                top: 0;
                right: 0;
                width: 70%;
                max-width: 320px;
            }

        .livetip {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.7);
            z-index: 200;
        }

        .lt-w {
            position: fixed;
            top: 100px;
            left: 10px;
            right: 10px;
            z-index: 300;
        }

            .lt-w .lt-c {
                background-color: white;
                padding-top: 10px;
                padding-bottom: 20px;
            }

        .list {
            list-style: initial;
            text-align: left;
        }

            .list li {
                margin-top: 0.5em;
                margin-bottom: 0.5em;
            }

        a,
        a:link,
        a:visited {
            color: #ffffff;
        }

        .dialog {
            position: fixed;
            left: 0;
            top: 0;
            right: 0;
            bottom: 0;
        }

        .dialog-bg {
            position: absolute;
            left: 0;
            top: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.7);
        }

        .dialog-con {
            position: absolute;
            width: 280px;
            top: 100px;
            background-color: white;
            left: 50%;
            margin-left: -140px;
            padding-bottom: 10px;
        }
		.mane{
			width: 84%;
			margin-bottom:10px;
			background:url("../image/mane.png") no-repeat;
			height:60px;
			color:#ffffff;
			font-size:21px;
			line-height:36px;
			background-size:100%;
			text-overflow: ellipsis;
			white-space: nowrap;
			word-break: keep-all;
			padding:0 25px;
			overflow: hidden;
		}
    </style>

</head>
<body class="loading" onload="showQ();">
	<div id="zhao" style="background:#1A1A1A;height: 100%;position: fixed;top: 0;width: 100%;z-index: 1;text-align: center;color: #FFFFFF;font-size: 30px;padding-top: 100px;font-weight: bold;display:block;">
		<img style="position: relative;top: 40px;width:80px" src="../image/load.gif" />
		加载中......	</div>
    <div id="loading">加载中</div>
    <div class="head"></div>
    <div class="main" id="main" ms-controller="test">
        <!-- 测试题 -->
        <div ms-if="item.type=='hello'" >
			<div class="mane">小明好贱，但是我很喜欢！</div>
			</br></br></br></br>
            <div class="t-c" ms-if="item.text">
                {{item.text}}
            </div>
            <div class="t-c" ms-if="item.text1">
                {{item.text1}}
            </div>
            <div class="t-s h" ms-repeat-elem="item.select" ms-class-active="elem.active"  ms-on-click="elem.tap(elem, item.select)">
                <img ms-attr-src="{{elem.img}}">
                <span>{{elem.text}}</span>
            </div>
			<div class="t-btn"><a href="javascript:;" onclick="tarHref(2)">我想玩其他好玩的</a></div>
        </div>
        <div ms-if="item.type=='select'">
			<div class="mane">小明很贱，但是我很喜欢</div>
			</br></br></br></br>
            <div class="t-c">
                <div ms-if="item.img" style="margin-bottom:0.5em;">
                    <img ms-attr-src="{{item.img}}">
                </div>
                {{item.id}}. {{item.text}}
            </div>
            <div class="t-s" ms-repeat-elem="item.select" ms-class-active="elem.active" ms-on-click="elem.tap(elem, item.select)">
                <img ms-if="!!elem.img" ms-attr-src="{{elem.img}}">
                <span>{{elem.text}}</span>
            </div>
        </div>
        <div id="sans" style="display:none;">
            <div class="t-r" id="fis">
                <span></span>
            </div>
            <div class="t-c" id="sec">
               
            </div>

            <!--{<div class="t-btn"><a href="javascript:;" onclick="tarHref(1)">关注我们</a></div>}-->
			<div class="t-btn"><a href="javascript:;" onclick="tarHref(2)">这里还有，更好玩的！</a></div>

        </div>
    </div>
	<script type="text/javascript" >
		 var dataForWeixin = {
			  server: window.location.hostnanme,
			  imgUrl:  "http://g.oslook.xyz/test/assets/"+spid+"/icon.jpg",
			   url: window.location.hostnanme+"/"+spid+"/index.html",
			  title: "小明很贱，但是我喜欢",
			  desc: "在你身边，看看谁就像小明？"
		};
		document.addEventListener('WeixinJSBridgeReady', function onBridgeReady() {WeixinJSBridge.call('hideOptionMenu');});
		function showQ(){
			$("#zhao").hide();
		}
	 </script>
        <script>
            var ID = getQueryString("sid") || Date.now() + "" + Math.floor(Math.random() * 1000);
            var fen = 0;
            function tap(elemvm, select, cb) {
                var a = false;
                for (var i = 0; i < select.length; i++) {
                    a = a || select[i].active;
                };
                if (!a) {
                    elemvm.active = true;
                    setTimeout(function () {
                        cb && cb()
                    }, 500)
                }
            }
            function getQueryString(name) {
                var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
                var r = location.search.substr(1).match(reg);
                if (r != null) return unescape(decodeURI(r[2])); return null;
            }
            var model = avalon.define("test", function (vm) {
					vm.arr = [
                    {
                        type: "hello",
                        text: "小时候我们的作文里，充满了小明，小明现在更贱了，看看他都有哪些举动吧！他不是逗你玩，而是逗大家玩呢！",
                        select: [
                            {
                                text: "第一则",
                                active: false,
                                tap: function (ele, select) {
                                    tap(ele, select, function () {
                                        model.item = model.arr[1];
                                        model.result.sex = 0;
                                    });
                                }
                            }
                        ]
                    },  {
                        type: "select",
                        id: 1,
                        text: "语文课上，老师：小明请你把【如果每一滴水都能代表一个祝福，那我送你一片海洋】做一个仿句练习！小明：如果每一朵花都代表一个祝福，那我会送你一个花圈！瞬间全班轰动！！！老师：滚滚滚，马上滚！！！",
                        select: [
						{
						    text: "继续看，第二则",
						    active: false,
						    error: false,
						    tap: function (ele, select) {
						        tap(ele, select,
								function () {
								    model.item = model.arr[2];
								});
						    }
						}]
                    },
					{
					    type: "select",
					    id: 2,
					    text: "老师把小明叫到了教室外。老师：你的作业做的越来越差了，这是怎么回事？小明：老师，等我找找原因，下午告诉你好吗？老师：好吧！下午，老师又把小明叫到了教室外。老师：找到原因了吗？小明：找到了，我爷爷说作业越来越难，他也没办法。",
					    select: [{
						    text: "继续看，第三则",
					        active: false,
					        error: false,
					        tap: function (ele, select) {
					            tap(ele, select,
								function () {
								    model.item = model.arr[3];
								});
					        }
					    }]
					},
					{
					    type: "select",
					    id: 3,
					    text: "考试后，老师训话，老师：“都是学生，怎么有的考得好，有的考得差。”小明：“还不是因为监考老师不同。”老师：“滚出去！”",
					    select: [{
						    text: "继续！还有",
					        active: false,
					        error: false,
					        tap: function (ele, select) {
					            tap(ele, select,
								function () {
								    model.item = model.arr[4];
								});
					        }
					    }]
					},
					{
					    type: "select",
					    id: 4,
					    text: "今天政治老师在讲台上啰嗦了一个小时，总在说钱与人生的关系，最后要下课了布置了一个问题让我们思考：“如果你们有钱能改变什么吗？”小明角落冷哼了一句：“如果有钱，我就不用在这听你废话了。”",
					    select: [{
						    text: "继续！还有",
					        active: false,
					        error: false,
					        tap: function (ele, select) {
					            tap(ele, select,
								function () {
								    model.item = model.arr[5];
								    fen += 10;
								});
					        }
					    }]
					},
					{
					    type: "select",
					    id: 5,
					    text: "老师：请用一句话，证明你找不到某个人的愤怒。小明：王八蛋，你特么在哪？老师：素质。小明：鳖，你在何方？老师：滚……",
					    select: [{
						    text: "继续！还有",
					        active: false,
					        error: false,
					        tap: function (ele, select) {
					            tap(ele, select,
								function () {
								    model.item = model.arr[6];
								});
					        }
					    }]
					},
					{
					    type: "select",
					    id: 6,
					    text: "老师：请大家解释一下环境因素和遗传因素！小明：长的像爸爸就是遗传因素，长的像邻居就是环境因素！老师：老规矩……小明默默地站起来……",
					    select: [{
						    text: "继续！还有",
					        active: false,
					        error: false,
					        tap: function (ele, select) {
					            tap(ele, select,
								function () {
								    model.item = model.arr[7];
								});
					        }
					    }]
					},
					{
					    type: "select",
					    id: 7,
					    text: "老师问站在教室外的小明、霜霜、李华三人：“你们仨到底在课堂上做什么，给我老实交代。”小明：“指点江山，激扬文字，粪土粪土当年万户侯。”老师：“说人话。”小明：“斗地主。”老师：“外面站一天。” ",
					    select: [{
						    text: "继续！还有",
					        active: false,
					        error: false,
					        tap: function (ele, select) {
					            tap(ele, select,
								function () {
								    model.item = model.arr[8];
								});
					        }
					    }]
					},
					{
					    type: "select",
					    id: 8,
					    text: "小明：老师我喜欢你。老师：我不喜欢小孩。小明：我也不喜欢小孩，我们可以不要小孩。老师：滚出去！",
					    select: [{
						    text: "继续！还有",
					        active: false,
					        error: false,
					        tap: function (ele, select) {
					            tap(ele, select,
								function () {
								    model.item = model.arr[9];
								});
					        }
					    }]
					},
                    {
                        type: "select",
                        id: 9,
                        text: "数学课上，老师出题：我们班上有十一位同学，现在老师带了十个苹果，要怎么才能平均分给同学们？小红：小明滚出去！",
                        select: [{
						    text: "继续！还有",
                            active: false,
                            error: false,
                            tap: function (ele, select) {
                                tap(ele, select,
								function () {
								    model.item = model.arr[10];
								    fen += 10;
								});
                            }
                        }]
                    },
                    {
                        type: "select",
                        id: 10,
                        text: "老师：同学们好！同学们：老师，教师节快乐！老师：谢谢同学们，小明呢？夭夭：小明说，今天你过节，他就不气你了，自己先滚出去了。老师：小明是个懂事的孩子，快去叫他进来吧。夭夭：这点估计他都到家了。",
                        select: [{
						    text: "提问，请回答：小明总共让你笑了几次？",
                            active: false,
                            error: false,
                            tap: function (ele, select) {
                                tap(ele, select,
								function () {
								    testEnd();
								});
                            }
                        }]
                    },
                    {
                        type: "result",
                        id: 11
                    }, {
                        type: "result",
                        id: 12
                    }, {
                        type: "result",
                        id: 13
                    }, {
                        type: "result",
                        id: 14
                    }, {
                        type: "result",
                        id: 15
                    }, {
                        type: "result",
                        id: 16
                    }, {
                        type: "result",
                        id: 17
                    }, {
                        type: "result",
                        id: 18
                    }, {
                        type: "result",
                        id: 19
                    }, {
                        type: "result",
                        id: 20
                    }
                ];
                vm.item = vm.arr[0];
                vm.result = {
                    sex: 0
                }
                vm.shared = false;
                vm.sharebox = function () {
                    model.showshare = true;
                }
                vm.livetip = false;
                vm.hidelivetip = function () {
                    model.livetip = false;
                }
                vm.livenow = function () {

                }
                vm.showxz = function () {
                    model.xunzhang = true;
                }
               /* vm.$watch("item", function (newval) {
                    if (newval.type == 'result') {
                        tarShare((newval.id-16));
						return false;
                    };
                })*/
            });

            document.body.className = "";
			function tarShare(score){
				  $('#tips').show();
				  mebtnopenurl = window.location.hostnanme+"/test/list/";
				  WeixinJSBridge.call('showOptionMenu');
				  
			    //var url = dataForWeixin.url+"list/share.html?spid="+spid+"&s=" +score+"&t=" + encodeURIComponent(dataForWeixin.title) + "&d=" +encodeURIComponent(dataForWeixin.desc) ;
				//location.href = url;
				return false;
			}
			function tarHref(type){
				if(type==1){
					var urls = "./test/list/";
				}else{
					var urls = "./test/list/";
				}
				location.href = urls;
				return false;
			}
function testEnd() {
				 if (fen == 0) {
                   var scores = 1;
                }else if (fen >= 1 && fen <= 59) {
                   var scores = 1;
                }else if (fen == 60) {
                    var scores = 2;
                }else if (fen == 66) {
                   var scores = 3;
                }else if (fen >= 61 && fen <= 79) {
                   var scores = 4;
                }else if (fen == 80) {
                   var scores = 5;
                }else if (fen >= 81 && fen <= 90) {
                  var scores = 6;
                }else if (fen >= 91 && fen <= 98) {
                    var scores = 7;
                }else if (fen == 99) {
                    var scores = 8;
                }else if (fen == 100) {
                    var scores = 9;
                }
				tarShare(scores);
			}
			//openCount(spid);
			
    </script>
    
<div style="font-size: 20px;text-align:center;padding-top: 20%;color: red;background: rgba(0,0,0,0.7);position: fixed;width: 100%;height: 100%;top: 0px;left: 0px;z-index: 10000;display:none;" id="tips" ontouchstart="document.getElementById('tips').style.display='none';">小明很贱吧！让童年的小伙伴找找小明的影子，来分享到朋友圈吧！</br></br></br>小明的故事还没结束，请期待下一期吧！</div>
<img id="hideADbtn" src="../image/closebtn.png" style="position:fixed; z-index:9999; bottom:50px; left:0;" ontouchstart="closeADFunc();">
<div id="spn" style="position:fixed; bottom:0;left:0;z-index:9999;height:50px;width:320px;" onclick="clickad();"></div>

<script type="text/javascript" src="../js/share.js"></script>
<div style="display:none;"><script type="text/javascript">tongji();</script></div>

<!--cnzz tui-->
	<script  type="text/javascript" c=hl charset="utf-8"  src="http://tui.cnzz.net/cs.php?id=1000086659"></script>
<!--cnzz tui-->
			
</body>
</html>